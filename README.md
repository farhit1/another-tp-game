# TPGame2

*Проект был выложен позже дедлайна, во вторник, 24 апреля. К сожалению, он до сих пор не является до конца завершенным:*
 - [ ] *Разобраться с XML-парсером*
 - [ ] *Добавить больше действий*

## Описание
Есть Англия и Франция. У каждой из них есть военная и экономическая сущности, за ход можно обращаться лишь к одной из них. Цель – у соперника не должно остаться ни одного отряда (в какой-то из дней после второго).
### Военная сущность
Состоит из отрядов, которые состоят из юнитов. Отряды могут нападать друг на друга (несколько раз рандомно выбирается по юниту из каждого отряда, которые будут сражаться друг с другом). В отряды можно докупать солдат.
### Экономическая сущность
Состоит из факторов экономического роста, которые также можно докупать.

## Настройка
### Солдаты и факторы экономического роста
Настраиваются в `units.xml` и `factors.xml` соответственно.
### Действия
Добавьте новое действие в `moves.cpp`:
```c++
struct NewAction : Move {
    // Парсер токена, сообщающий может ли это действие обработать приходящий запрос
    // Описание структуры токена доступно в Token.h
    bool parse(const Token& token) override;
  
    // Непосредственно обработка запроса
    // Вызывается, если parse вернул true
    void execute(const Token& token) override;
    
    // Возвращаемый тип действия
    // Доступные типы:
    //   Move::Signal::start - действие будет вызвано в начале хода игрока
    //   Move::Signal::end   - вызов действия приведет к передаче хода следующему игроку
    //   Move::Signal::other - тип по умолчанию
    //   Move::Signal::fail  - служебный тип, возвращается, если ни одно действие не распарсило токен
    static const Move::Signal signal = ...;
};
// Добавление действия в список доступных действий
Execute::MoveAdder newActionMove(new NewAction());
```

## Скриншоты
 - [ ] *Добавить скриншоты*
